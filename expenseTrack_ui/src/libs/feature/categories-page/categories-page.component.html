
<div class="p-8">
  <ui-card>
    <ui-card-header>
      <ui-card-title>Categories</ui-card-title>
    </ui-card-header>
    <ui-card-content>
      <ui-button className="mb-4" (click)="openAdd()" variant="btn-primary">Add Category</ui-button>
      <table class="w-full text-left">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Color</th>
            <th>Icon</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let category of categories">
            <td>{{ category.name }}</td>
            <td>{{ category.type }}</td>
            <td><span [style.background]="category.color" class="inline-block w-6 h-6 rounded"></span></td>
            <td>{{ category.icon }}</td>
            <td>
              <ui-button className="btn-xs btn-outline mr-2" (click)="edit(category)">Edit</ui-button>
              <ui-button className="btn-xs btn-error" (click)="confirmDelete(category)">Delete</ui-button>
            </td>
          </tr>
        </tbody>
      </table>
    </ui-card-content>
  </ui-card>
</div>
<ui-modal [open]="modalOpen">
  <form [formGroup]="form" (ngSubmit)="onSubmit()" modal-content>
    <div class="mb-4">
      <label>Name</label>
      <ui-input formControlName="name"></ui-input>
    </div>
    <div class="mb-4">
      <label>Type</label>
      <select formControlName="type" class="input input-bordered w-full">
        <option value="income">Income</option>
        <option value="expense">Expense</option>
        <option value="investment">Investment</option>
      </select>
    </div>
    <div class="mb-4">
      <label>Color</label>
      <ui-input type="color" formControlName="color"></ui-input>
    </div>
    <div class="mb-4">
      <label>Icon</label>
      <ui-input formControlName="icon"></ui-input>
    </div>
    <div modal-actions>
      <ui-button type="button" (click)="closeModal()">Cancel</ui-button>
      <ui-button type="submit" variant="btn-primary" [disabled]="form.invalid">{{ editing ? 'Update' : 'Add' }}</ui-button>
    </div>
  </form>
</ui-modal>
<ui-confirm-dialog [open]="confirmOpen" title="Delete Category" message="Are you sure you want to delete this category?" (confirm)="deleteCategory()" (cancel)="confirmOpen=false"></ui-confirm-dialog>
  
